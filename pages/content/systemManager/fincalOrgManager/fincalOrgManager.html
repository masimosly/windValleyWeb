<!--
 * @Authoer: hujun
 * @Description:金融机构
 * @Date 2017/12/5 14:16
 * @Modified By:
 *
-->
<div id="fincalOrg">
    <el-form-q form="query" :field-data="queryFileds" search-table="infotable" ></el-form-q>
    <div class="yu-toolBar">
        <el-button-group>
            <el-button icon="add" @click="openCreateFn" v-if="createButton">新增</el-button>
            <el-button  icon="edit" @click="openEditFn" v-if="editButton">修改</el-button>
            <el-button  icon="delete" @click="deletestFn" v-if="deleteButton">删除</el-button>
            <el-button icon="edit" @click="useFn" v-if="useButton">启用</el-button>
            <el-button  icon="edit" @click="unUseFn" v-if="unuseButton">停用</el-button>
        </el-button-group>
    </div>
    <el-table-x ref="infotable"
                :checkbox="mainGrid.checkbox" :max-height="mainGrid.height"
                :data-url="mainGrid.dataUrl" :data-params="mainGrid.dataParams" :table-columns="mainGrid.tableColumns"
                 @custom-detail-click="openDetailFn">
    </el-table-x>
    <el-dialog-x :title="textMap[dialogStatus]" :visible.sync="dialogFormVisible"  height="370px" width="700px">
        <el-collapse  v-model="activeName" >
            <el-collapse-item title="金融机构信息" name="1">
                <el-form-x ref="form"
                           :group-fields="updateFields"
                           :disabled="formDisabled" label-width="110px"></el-form-x>
            </el-collapse-item>
            <el-collapse-item title="扩展信息" name="2">
                <el-form-x ref="otherForm"
                           :group-fields="updateOtherFields"
                           :disabled="formDisabled" label-width="110px"></el-form-x>
            </el-collapse-item>
        </el-collapse>
        <div slot="footer" align="center">
            <el-button type="primary" @click="dialogFormVisible = false">关闭</el-button>
            <el-button v-if="dialogStatus=='create'" type="primary" @click="saveCreateFn()">确 定</el-button>
            <el-button v-if="dialogStatus=='update'" type="primary" @click="saveEditFn()">确 定</el-button>
        </div>
    </el-dialog-x>
</div>